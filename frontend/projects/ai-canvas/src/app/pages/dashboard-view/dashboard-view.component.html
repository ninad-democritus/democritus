<div class="dashboard-view-page">
  <!-- Header Bar -->
  <div class="view-header">
    <div class="header-left">
      <button class="btn-back" (click)="goBack()">
        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
        </svg>
        Back
      </button>
      
      <div *ngIf="dashboard" class="dashboard-info">
        <h1 class="dashboard-title">{{ dashboard.name }}</h1>
        <div class="dashboard-meta">
          <span class="badge" [class.private]="dashboard.visibility === 'private'">
            {{ dashboard.visibility }}
          </span>
          <span class="type-badge">{{ dashboard.dashboard_type | titlecase }}</span>
        </div>
      </div>
    </div>
    
    <div class="header-right">
      <button *ngIf="dashboard" class="btn-edit" (click)="editDashboard()">
        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
        </svg>
        Edit Dashboard
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading dashboard...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error-state">
    <svg class="error-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <p>{{ error }}</p>
    <button class="btn-retry" (click)="loadDashboard(dashboard?.id || '')">Try Again</button>
  </div>

  <!-- Dashboard Grid (Full Width) -->
  <div *ngIf="!loading && !error && dashboardItems.length > 0" class="grid-container">
    <gridster [options]="gridOptions">
      <gridster-item 
        *ngFor="let item of dashboardItems" 
        [item]="item"
        class="gridster-item-view">
        
        <div class="chart-container">
          <div class="chart-header">
            <h3 class="chart-title">{{ item.config.title }}</h3>
          </div>
          
          <div class="chart-content">
            <div 
              echarts 
              [options]="item.config.echartsOptions"
              class="echart">
            </div>
          </div>
        </div>
      </gridster-item>
    </gridster>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !error && dashboardItems.length === 0" class="empty-state">
    <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"></path>
    </svg>
    <p>This dashboard has no widgets yet.</p>
    <button class="btn-edit-large" (click)="editDashboard()">Edit Dashboard</button>
  </div>
</div>

